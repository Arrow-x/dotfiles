#!/bin/sh
if [ "$#" -ne 1 ]; then
	echo "Too Little Arguments! chose either to type the chararcters with -t or open in a browser with -b" >&2
	exit 1
fi

menu() {
	fzfmenu.sh
}
browser() {
	firefox "$1"
}
case $1 in
	-t) xdotool type --delay 0ms "$(grep -v "^#" ~/Notes-And-Tasks/bookmarks | menu | cut -d ' ' -f1)" ;;
	-b)
		bookmark=$(grep -v "^#" ~/Notes-And-Tasks/bookmarks | menu | cut -d ' ' -f1)
		if [ -z "$bookmark" ]; then
			exit 1
		fi
		browser "$bookmark" &
		;;
	*)
		echo "Wrong argument expect either -t or -b" >&2
		exit 1
		;;
esac
