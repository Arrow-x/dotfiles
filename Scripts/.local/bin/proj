#!/bin/sh
search="$(find -L "/home/arrowx/Public" "/home/arrowx/File/Projects/Godot" "/home/arrowx/File/Projects/Scripts" -mindepth 1  -maxdepth 1 -type d | fzf)"

if [ -z "$search" ]; then
	exit
fi

tmux_running=$(pgrep tmux)

if [ "$TMUX" ] && [ "$tmux_running" ]; then
	search_name=$(basename "$search")
	tmux rename-window "$search_name"
fi
case "$1" in
	-n | --neovim) nvim "$search" ;;
	-c | --change-dir) setsid -f footclient -D "$search" ;;
	*) exit ;;
esac
