#!/bin/sh

if [ "$#" -eq 1 ]; then
    selected=$1
else
	search="$(find -L "/home/arrowx/Public" "/home/arrowx/File/Projects/Godot" "/home/arrowx/File/Projects/Scripts" -mindepth 1  -maxdepth 1 -type d | fzf)"
fi

if [ -z "$search" ]; then
	exit
fi

tmux_running=$(pgrep tmux)

if [ "$TMUX" ] && [ "$tmux_running" ]; then
	search_name=$(basename "$search")
	tmux rename-window "$search_name"
fi

nvim "$search"
